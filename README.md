# pppoe
Скрипт для автоматического переподнятия pppoe соединения
---
Скрипт (pppoe.sh) содержит две проверки:
1. Наличие ppp интерфейса
2. Проходит ли пинг на 8.8.8.8

Если при первой проверки нет ppp интерфейса то переподнимается pppoe соединение, если есть то запускается вторая проверка
Если при второй проверке пинг не проходит то то переподнимается pppoe соединение, если проходит то выполняется sleep.

Скрипт pppoe.sh необходимо сделать исполняемым:
```bash
chmod +x pppoe.sh
```

Скрипт (pppoe.sh) работает как демон (в фоне).
Для управления им как демоном советую скопировать скрипт pppoe в /etc/init.d/ и сделать исполняемым

По умолчанию ожидается что скрипт pppoe.sh лежит по пути /opt/scripts/pppoe.sh
Если у Вас он будет лежать в другом месте необходимо поправить переменную в init скрипте.

Так же при переподнятии соединения пишутся логи. По умолчанию в /var/log/
Если нужно поменять размещение логов то нужно изменить переменную в init скрипте.

Далее необходимо добавить init скрипт в rc.d:
```bash
update-rc.d -f pppoe defaults
```
и добавить в автозагрузку
```bash
update-rc.d -f pppoe enable
```
